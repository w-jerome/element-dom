function dom(t,e,n,r){if("string"!=typeof t&&!(t instanceof HTMLElement))throw Error("The 'element' parameter must be a 'string' or an 'HTMLElement'");t="string"==typeof t?document.createElement(t):t;let o=e&&"object"==typeof e.attr&&!Array.isArray(e.attr)?e.attr:void 0;if(o)for(var a in o){if("boolean"==typeof o[a]){o[a]?t.setAttribute(a,""):t.removeAttribute(a);continue}if("string"==typeof o[a]){t.setAttribute(a,o[a]);continue}throw Error("The 'attr' parameter must be a 'string' or a 'boolean'")}if(e&&e.text&&(t.textContent=e.text),e&&e.html&&(t.innerHTML=e.html),e&&"object"==typeof e.on&&null!==e.on)for(var a in e.on)t.addEventListener(a,e.on[a],!1);if(n instanceof HTMLElement&&(n=[n]),n){if(!Array.isArray(n)&&"NodeList"!==n.constructor.name)throw Error("Children must be an 'HTMLElement', an 'Array' or a 'NodeList'");var i=document.createDocumentFragment();for(var f in n)n[f]instanceof HTMLElement&&i.appendChild(n[f]);t.appendChild(i)}if(r){if("function"!=typeof r)throw Error("The 'onAfterAppend' parameter must be a function or a 'callable'");r(t)}return t}